import { ToolsLogger, type Logger } from '@sap-ux/logger';
import type { App, FlpConfig, Intent, InternalTestConfig, MiddlewareConfig } from '../types';
import { type Manifest, type UI5FlexLayer } from '@sap-ux/project-access';
import { type Editor } from 'mem-fs-editor';
export interface CustomConnector {
    applyConnector: string;
    writeConnector: string;
    custom: boolean;
}
export interface FlexConnector {
    connector: string;
    layers: string[];
    url?: string;
}
/**
 * Internal structure used to fill the sandbox.html template
 */
export interface TemplateConfig {
    basePath: string;
    apps: Record<string, {
        title: string;
        description: string;
        additionalInformation: string;
        applicationType: 'URL';
        url: string;
        applicationDependencies?: {
            manifest: boolean;
        };
    }>;
    ui5: {
        libs: string;
        theme: string;
        flex: (CustomConnector | FlexConnector)[];
        bootstrapOptions: string;
        resources: Record<string, string>;
    };
    init?: string;
    flex?: {
        [key: string]: unknown;
        layer: UI5FlexLayer;
        developerMode: boolean;
        pluginScript?: string;
    };
    features?: {
        feature: string;
        isEnabled: boolean;
    }[];
    locateReuseLibsScript?: boolean;
}
/**
 * Static settings
 */
export declare const PREVIEW_URL: {
    readonly client: {
        readonly path: "/preview/client";
        readonly getUrl: (basePath: string) => string;
        readonly local: string;
        readonly ns: "open.ux.preview.client";
    };
    readonly api: "/preview/api";
};
/**
 * Default theme
 */
export declare const DEFAULT_THEME = "sap_horizon";
/**
 * Default path for mounting the local FLP.
 */
export declare const DEFAULT_PATH = "/test/flp.html";
/**
 * Default intent
 */
export declare const DEFAULT_INTENT: Readonly<Intent>;
/**
 * Default configuration for the FLP.
 *
 * @param config partial configuration
 * @returns a full configuration with default values
 */
export declare function getFlpConfigWithDefaults(config?: Partial<FlpConfig>): {
    path: string;
    intent: Readonly<Intent>;
    apps: App[];
    libs: boolean | undefined;
    theme: string | undefined;
    init: string | undefined;
};
/**
 * The developer mode is only supported for adaptation projects, therefore, notify the user if it is wrongly configured and then disable it.
 *
 * @param config configurations from the ui5.yaml
 * @param logger logger instance
 */
export declare function sanitizeConfig(config: MiddlewareConfig, logger: ToolsLogger): void;
/**
 * Add an application to the local FLP preview.
 *
 * @param templateConfig configuration for the preview
 * @param manifest manifest of the additional target app
 * @param app configuration for the preview
 * @param logger logger instance
 */
export declare function addApp(templateConfig: TemplateConfig, manifest: Partial<Manifest>, app: App, logger: Logger): Promise<void>;
/**
 * Creates the configuration object for the sandbox.html template.
 *
 * @param config FLP configuration
 * @param manifest application manifest
 * @param resources additional resources
 * @returns configuration object for the sandbox.html template
 */
export declare function createFlpTemplateConfig(config: FlpConfig, manifest: Partial<Manifest>, resources?: Record<string, string>): TemplateConfig;
/**
 * Creates the configuration object for the test template.
 *
 * @param config test configuration
 * @param id application id
 * @param theme theme to be used
 * @returns configuration object for the test template
 */
export declare function createTestTemplateConfig(config: InternalTestConfig, id: string, theme: string): {
    id: string;
    framework: "OPA5" | "QUnit" | "Testsuite";
    basePath: string;
    initPath: string;
    theme: string;
};
export type PreviewUrls = {
    path: string;
    type: 'preview' | 'editor' | 'test';
};
/**
 * Returns the preview paths.
 *
 * @param config configuration from the ui5.yaml
 * @param logger logger instance
 * @returns an array of preview paths
 */
export declare function getPreviewPaths(config: MiddlewareConfig, logger?: ToolsLogger): PreviewUrls[];
/**
 * Generates the preview files.
 *
 * @param basePath path to the application root
 * @param config configuration from the ui5.yaml
 * @param fs file system editor
 * @param logger logger instance
 * @returns a mem-fs editor with the preview files
 */
export declare function generatePreviewFiles(basePath: string, config: MiddlewareConfig, fs?: Editor, logger?: ToolsLogger): Promise<Editor>;
//# sourceMappingURL=config.d.ts.map