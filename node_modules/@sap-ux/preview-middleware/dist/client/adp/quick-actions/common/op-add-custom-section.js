"use strict";

sap.ui.define(["sap/ui/dt/OverlayRegistry", "../../init-dialogs", "../../../cpe/quick-actions/utils", "../simple-quick-action-base"], function (OverlayRegistry, ____init_dialogs, _____cpe_quick_actions_utils, ___simple_quick_action_base) {
  "use strict";

  const DialogNames = ____init_dialogs["DialogNames"];
  const handler = ____init_dialogs["handler"];
  const getRelevantControlFromActivePage = _____cpe_quick_actions_utils["getRelevantControlFromActivePage"];
  const SimpleQuickActionDefinitionBase = ___simple_quick_action_base["SimpleQuickActionDefinitionBase"];
  const OP_ADD_CUSTOM_SECTION = 'op-add-custom-section';
  const CONTROL_TYPES = ['sap.uxap.ObjectPageLayout'];

  /**
   * Quick Action for adding a Header Field to an Object Page.
   */
  class AddCustomSectionQuickAction extends SimpleQuickActionDefinitionBase {
    constructor(context) {
      super(OP_ADD_CUSTOM_SECTION, CONTROL_TYPES, 'QUICK_ACTION_OP_ADD_CUSTOM_SECTION', context);
    }
    async execute() {
      const objectPageLayout = getRelevantControlFromActivePage(this.context.controlIndex, this.context.view, CONTROL_TYPES)[0];
      const overlay = OverlayRegistry.getOverlay(objectPageLayout) || [];
      await handler(overlay, this.context.rta, DialogNames.ADD_FRAGMENT, undefined, {
        aggregation: 'sections',
        title: 'QUICK_ACTION_OP_ADD_CUSTOM_SECTION'
      });
      return [];
    }
  }
  var __exports = {
    __esModule: true
  };
  __exports.OP_ADD_CUSTOM_SECTION = OP_ADD_CUSTOM_SECTION;
  __exports.AddCustomSectionQuickAction = AddCustomSectionQuickAction;
  return __exports;
});
//# sourceMappingURL=op-add-custom-section.js.map